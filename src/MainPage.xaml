<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:views="clr-namespace:MarkRead.Views"
             x:Class="MarkRead.MainPage">

    <Grid x:Name="MainGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="SidebarColumn" Width="250" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border x:Name="Sidebar" 
                Grid.Column="0"
                BackgroundColor="{AppThemeBinding Light={StaticResource Gray100}, Dark={StaticResource Gray900}}"
                Padding="0">
            <views:FileTreeView x:Name="FileTree" />
        </Border>

        <!-- Splitter -->
        <BoxView x:Name="Splitter"
                 Grid.Column="1"
                 WidthRequest="4"
                 BackgroundColor="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray800}}"
                 HorizontalOptions="Center">
            <BoxView.GestureRecognizers>
                <PanGestureRecognizer PanUpdated="OnSplitterPanUpdated" />
            </BoxView.GestureRecognizers>
        </BoxView>

        <!-- Main Content Area -->
        <Grid x:Name="ContentArea" Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            
            <!-- Tab Bar -->
            <views:TabBar x:Name="TabBar" Grid.Row="0" />
            
            <!-- Document Content -->
            <views:MarkdownView x:Name="MarkdownView" Grid.Row="1" />
        </Grid>
    </Grid>

</ContentPage>
