/* 
 * CSS Custom Properties (Variables) for Theme System
 * This file defines the base theme variables that enable dynamic theme switching
 * in the WebView2 markdown content without page reload.
 */

:root {
  /* Light Theme Colors (Default) */
  --theme-background: #ffffff;
  --theme-foreground: #212529;
  --theme-accent: #0066cc;
  --theme-border: #dee2e6;
  --theme-button-background: #f8f9fa;
  --theme-button-hover: #e9ecef;
  --theme-sidebar-background: #f8f9fa;
  --theme-tab-active: #ffffff;
  --theme-tab-inactive: #f8f9fa;

  /* Text and Typography */
  --theme-text-primary: var(--theme-foreground);
  --theme-text-secondary: #6c757d;
  --theme-text-muted: #9ca3af;
  --theme-text-link: var(--theme-accent);
  --theme-text-link-hover: #0056b3;

  /* UI Component Colors */
  --theme-input-background: #ffffff;
  --theme-input-border: var(--theme-border);
  --theme-input-focus: var(--theme-accent);
  --theme-dropdown-background: #ffffff;
  --theme-dropdown-shadow: rgba(0, 0, 0, 0.1);
  --theme-tooltip-background: #000000;
  --theme-tooltip-text: #ffffff;

  /* Status Colors (remain consistent across themes) */
  --theme-success: #28a745;
  --theme-warning: #ffc107;
  --theme-error: #dc3545;
  --theme-info: #17a2b8;

  /* Layout and Spacing */
  --theme-radius: 4px;
  --theme-radius-large: 8px;
  --theme-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  --theme-shadow-large: 0 4px 8px rgba(0, 0, 0, 0.15);

  /* Animation Properties */
  --theme-transition-fast: 150ms ease-in-out;
  --theme-transition-normal: 200ms ease-in-out;
  --theme-transition-slow: 250ms ease-in-out;

  /* Z-Index Layers */
  --z-dropdown: 1000;
  --z-sticky: 1010;
  --z-modal: 1020;
  --z-toast: 1030;
  --z-tooltip: 1040;
}

/* Dark Theme Override */
[data-theme="dark"] {
  --theme-background: #1a1a1a;
  --theme-foreground: #ffffff;
  --theme-accent: #66b3ff;
  --theme-border: #444444;
  --theme-button-background: #333333;
  --theme-button-hover: #444444;
  --theme-sidebar-background: #222222;
  --theme-tab-active: #333333;
  --theme-tab-inactive: #222222;

  /* Dark Theme Text */
  --theme-text-primary: var(--theme-foreground);
  --theme-text-secondary: #b8b8b8;
  --theme-text-muted: #888888;
  --theme-text-link: var(--theme-accent);
  --theme-text-link-hover: #87ceeb;

  /* Dark Theme UI Components */
  --theme-input-background: #333333;
  --theme-input-border: var(--theme-border);
  --theme-input-focus: var(--theme-accent);
  --theme-dropdown-background: #2a2a2a;
  --theme-dropdown-shadow: rgba(0, 0, 0, 0.3);
  --theme-tooltip-background: #f8f9fa;
  --theme-tooltip-text: #212529;

  /* Dark Theme Shadows */
  --theme-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  --theme-shadow-large: 0 4px 8px rgba(0, 0, 0, 0.4);
}

/* High Contrast Theme Support (for accessibility) */
@media (prefers-contrast: high) {
  :root {
    --theme-border: #000000;
    --theme-text-secondary: var(--theme-text-primary);
  }

  [data-theme="dark"] {
    --theme-border: #ffffff;
    --theme-text-secondary: var(--theme-text-primary);
  }
}

/* Reduced Motion Support (for accessibility) */
@media (prefers-reduced-motion: reduce) {
  :root {
    --theme-transition-fast: 0ms;
    --theme-transition-normal: 0ms;
    --theme-transition-slow: 0ms;
  }
}

/* System Theme Detection */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --theme-background: #1a1a1a;
    --theme-foreground: #ffffff;
    --theme-accent: #66b3ff;
    --theme-border: #444444;
    --theme-button-background: #333333;
    --theme-button-hover: #444444;
    --theme-sidebar-background: #222222;
    --theme-tab-active: #333333;
    --theme-tab-inactive: #222222;

    --theme-text-primary: var(--theme-foreground);
    --theme-text-secondary: #b8b8b8;
    --theme-text-muted: #888888;
    --theme-text-link: var(--theme-accent);
    --theme-text-link-hover: #87ceeb;

    --theme-input-background: #333333;
    --theme-input-border: var(--theme-border);
    --theme-dropdown-background: #2a2a2a;
    --theme-dropdown-shadow: rgba(0, 0, 0, 0.3);
    --theme-tooltip-background: #f8f9fa;
    --theme-tooltip-text: #212529;

    --theme-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    --theme-shadow-large: 0 4px 8px rgba(0, 0, 0, 0.4);
  }
}

/* Base Element Styling Using Theme Variables */
body {
  background-color: var(--theme-background);
  color: var(--theme-text-primary);
  transition: background-color var(--theme-transition-normal),
              color var(--theme-transition-normal);
}

/* Utility Classes for Theme-Aware Components */
.theme-bg-primary { background-color: var(--theme-background); }
.theme-bg-secondary { background-color: var(--theme-sidebar-background); }
.theme-bg-button { background-color: var(--theme-button-background); }
.theme-bg-accent { background-color: var(--theme-accent); }

.theme-text-primary { color: var(--theme-text-primary); }
.theme-text-secondary { color: var(--theme-text-secondary); }
.theme-text-muted { color: var(--theme-text-muted); }
.theme-text-accent { color: var(--theme-accent); }

.theme-border { border-color: var(--theme-border); }
.theme-border-accent { border-color: var(--theme-accent); }

.theme-shadow { box-shadow: var(--theme-shadow); }
.theme-shadow-large { box-shadow: var(--theme-shadow-large); }

.theme-transition { transition: var(--theme-transition-normal); }
.theme-transition-fast { transition: var(--theme-transition-fast); }
.theme-transition-slow { transition: var(--theme-transition-slow); }

/* Focus Styles for Accessibility */
.theme-focus:focus {
  outline: 2px solid var(--theme-accent);
  outline-offset: 2px;
}

/* Interactive Element States */
.theme-interactive {
  transition: all var(--theme-transition-fast);
}

.theme-interactive:hover {
  background-color: var(--theme-button-hover);
}

.theme-interactive:active {
  transform: scale(0.98);
}

.theme-interactive:focus {
  outline: 2px solid var(--theme-accent);
  outline-offset: 2px;
}