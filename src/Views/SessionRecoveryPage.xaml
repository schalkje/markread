<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MarkRead.Views.SessionRecoveryPage"
             Title="Session Recovery"
             BackgroundColor="{StaticResource Gray100Color}">

    <Grid RowDefinitions="Auto,*,Auto" Padding="40">
        
        <!-- Header -->
        <VerticalStackLayout Grid.Row="0" Spacing="12" Margin="0,20,0,40">
            <Label Text="Restore Previous Session?"
                   FontSize="24"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource Gray100}}" />
            
            <Label Text="MarkRead didn't close properly last time. Would you like to restore your previous session?"
                   FontSize="14"
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center"
                   TextColor="{StaticResource Gray600Color}"
                   MaximumWidthRequest="500" />
        </VerticalStackLayout>

        <!-- Session Details -->
        <Border Grid.Row="1"
                Padding="20"
                Margin="0,0,0,20"
                BackgroundColor="{StaticResource Gray200Color}"
                StrokeThickness="0"
                MaximumWidthRequest="600"
                HorizontalOptions="Center">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="8" />
            </Border.StrokeShape>
            
            <VerticalStackLayout Spacing="16">
                <Label Text="Previous Session Details"
                       FontSize="16"
                       FontAttributes="Bold"
                       TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource Gray100}}" />
                
                <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto" ColumnSpacing="12" RowSpacing="8">
                    <!-- Open Tabs -->
                    <Label Grid.Row="0" Grid.Column="0"
                           Text="Open Tabs:"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={StaticResource Gray700}, Dark={StaticResource Gray300}}" />
                    <Label Grid.Row="0" Grid.Column="1"
                           x:Name="TabCountLabel"
                           Text="0 tabs"
                           FontSize="14"
                           FontAttributes="Bold"
                           TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource Gray100}}" />
                    
                    <!-- Workspace Folders -->
                    <Label Grid.Row="1" Grid.Column="0"
                           Text="Workspaces:"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={StaticResource Gray700}, Dark={StaticResource Gray300}}" />
                    <Label Grid.Row="1" Grid.Column="1"
                           x:Name="WorkspaceCountLabel"
                           Text="0 folders"
                           FontSize="14"
                           FontAttributes="Bold"
                           TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource Gray100}}" />
                    
                    <!-- Last Saved -->
                    <Label Grid.Row="2" Grid.Column="0"
                           Text="Last Saved:"
                           FontSize="14"
                           TextColor="{AppThemeBinding Light={StaticResource Gray700}, Dark={StaticResource Gray300}}" />
                    <Label Grid.Row="2" Grid.Column="1"
                           x:Name="LastSavedLabel"
                           Text="Unknown"
                           FontSize="14"
                           FontAttributes="Bold"
                           TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource Gray100}}" />
                </Grid>
            </VerticalStackLayout>
        </Border>

        <!-- Action Buttons -->
        <Grid Grid.Row="2" 
              ColumnDefinitions="*,*" 
              ColumnSpacing="16"
              MaximumWidthRequest="500"
              HorizontalOptions="Center">
            
            <Button Grid.Column="0"
                    x:Name="StartFreshButton"
                    Text="Start Fresh"
                    FontSize="16"
                    HeightRequest="50"
                    BackgroundColor="{StaticResource Gray300Color}"
                    TextColor="{StaticResource Gray900Color}"
                    Clicked="OnStartFreshClicked">
                <Button.Shadow>
                    <Shadow Brush="Transparent" Radius="0" />
                </Button.Shadow>
            </Button>
            
            <Button Grid.Column="1"
                    x:Name="RestoreButton"
                    Text="Restore Session"
                    FontSize="16"
                    FontAttributes="Bold"
                    HeightRequest="50"
                    BackgroundColor="{StaticResource PrimaryColor}"
                    TextColor="White"
                    Clicked="OnRestoreClicked">
                <Button.Shadow>
                    <Shadow Brush="Transparent" Radius="0" />
                </Button.Shadow>
            </Button>
        </Grid>
    </Grid>
</ContentPage>
